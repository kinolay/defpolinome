import psycopg2
from datetime import date
import numpy as np
import json

import numpy as np
from sklearn.linear_model import LinearRegression
from sklearn.preprocessing import PolynomialFeatures

def polynomial_regression(x, y, degree):

    # Преобразование входных параметров в полиномиальные
    polynomial_features = PolynomialFeatures(degree=degree, include_bias=False)
    x_poly = polynomial_features.fit_transform(x.reshape(-1, 1))

    # Создание и обучение модели линейной регрессии
    model = LinearRegression()
    model.fit(x_poly, y)
    predict = model.predict(x_poly)

    return model.coef_, model.intercept_, predict
